<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Apr 16 08:51:56 CST 2020 -->
<title>ProxyServlet</title>
<meta name="date" content="2020-04-16">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ProxyServlet";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServiceImpl.html" title="class in org.apache.karaf.http.core.internal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/karaf/http/core/internal/ServletEventHandler.html" title="class in org.apache.karaf.http.core.internal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/karaf/http/core/internal/ProxyServlet.html" target="_top">Frames</a></li>
<li><a href="ProxyServlet.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.karaf.http.core.internal</div>
<h2 title="Class ProxyServlet" class="title">Class ProxyServlet</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>HttpServlet</li>
<li>
<ul class="inheritance">
<li>org.apache.karaf.http.core.internal.ProxyServlet</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ProxyServlet</span>
extends HttpServlet</pre>
<div class="block">This is a simple servlet acting as a HTTP reverse proxy/gateway. It works with any webcontainer as it's a regular servlet.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.util.BitSet</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#asciiQueryChars">asciiQueryChars</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#doForwardIP">doForwardIP</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#doSendUrlFragment">doSendUrlFragment</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static HeaderGroup</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#hopByHopHeaders">hopByHopHeaders</a></span></code>
<div class="block">These are the "hop-by-hop" headers that should not be copied.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#proxyTo">proxyTo</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#ProxyServlet--">ProxyServlet</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#close-java.io.Closeable-">close</a></span>(java.io.Closeable&nbsp;closeable)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#consumeQuietly-HttpEntity-">consumeQuietly</a></span>(HttpEntity&nbsp;httpEntity)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#copyProxyCookie-HttpServletRequest-HttpServletResponse-Header-">copyProxyCookie</a></span>(HttpServletRequest&nbsp;servletRequest,
               HttpServletResponse&nbsp;servletResponse,
               Header&nbsp;header)</code>
<div class="block">Copy cookie from the proxy to the servlet client.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#copyRequestHeaders-HttpServletRequest-HttpRequest-HttpHost-">copyRequestHeaders</a></span>(HttpServletRequest&nbsp;servletRequest,
                  HttpRequest&nbsp;proxyRequest,
                  HttpHost&nbsp;host)</code>
<div class="block">Copy request headers from the servlet client to the proxy request.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#copyResponseEntity-HttpResponse-HttpServletResponse-">copyResponseEntity</a></span>(HttpResponse&nbsp;proxyResponse,
                  HttpServletResponse&nbsp;servletResponse)</code>
<div class="block">Copy response body data (the entity) from the proxy to the servlet client.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#copyResponseHeaders-HttpResponse-HttpServletRequest-HttpServletResponse-">copyResponseHeaders</a></span>(HttpResponse&nbsp;proxyResponse,
                   HttpServletRequest&nbsp;servletRequest,
                   HttpServletResponse&nbsp;servletResponse)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected HttpClient</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#createHttpClient-HttpParams-">createHttpClient</a></span>(HttpParams&nbsp;hcParams)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#destroy--">destroy</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#doResponseRedirect-HttpServletRequest-HttpServletResponse-HttpResponse-int-java.lang.String-">doResponseRedirect</a></span>(HttpServletRequest&nbsp;servletRequest,
                  HttpServletResponse&nbsp;servletResponse,
                  HttpResponse&nbsp;proxyResponse,
                  int&nbsp;statusCode,
                  java.lang.String&nbsp;proxyTo)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected static java.lang.CharSequence</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#encodeUriQuery-java.lang.CharSequence-">encodeUriQuery</a></span>(java.lang.CharSequence&nbsp;in)</code>
<div class="block">Encodes characters in the query or fragment part of the URI.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#getCookieNamePrefix--">getCookieNamePrefix</a></span>()</code>
<div class="block">The string prefixing rewritten cookies.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#getRealCookie-java.lang.String-">getRealCookie</a></span>(java.lang.String&nbsp;cookieValue)</code>
<div class="block">Take any client cookies that were originally from the proxy and prepare them to send to the
 proxy.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#getServletInfo--">getServletInfo</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#init--">init</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#rewriteQueryStringFromRequest-HttpServletRequest-java.lang.String-">rewriteQueryStringFromRequest</a></span>(HttpServletRequest&nbsp;servletRequest,
                             java.lang.String&nbsp;queryString)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#rewriteUrlFromRequest-HttpServletRequest-java.lang.String-">rewriteUrlFromRequest</a></span>(HttpServletRequest&nbsp;servletRequest,
                     java.lang.String&nbsp;location)</code>
<div class="block">Reads the request URI from <code>servletRequest</code> and rewrites it, considering targetUri.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#rewriteUrlFromResponse-HttpServletRequest-java.lang.String-java.lang.String-">rewriteUrlFromResponse</a></span>(HttpServletRequest&nbsp;servletRequest,
                      java.lang.String&nbsp;theUrl,
                      java.lang.String&nbsp;location)</code>
<div class="block">For a redirect response from the target server, this translates <code>theUrl</code> to redirect to
 and translates it to one the original client can use.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#service-HttpServletRequest-HttpServletResponse-">service</a></span>(HttpServletRequest&nbsp;servletRequest,
       HttpServletResponse&nbsp;servletResponse)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#setIPForwarding-boolean-">setIPForwarding</a></span>(boolean&nbsp;ipForwarding)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServlet.html#setProxyTo-java.lang.String-">setProxyTo</a></span>(java.lang.String&nbsp;proxyTo)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="proxyTo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>proxyTo</h4>
<pre>protected&nbsp;java.lang.String proxyTo</pre>
</li>
</ul>
<a name="doForwardIP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doForwardIP</h4>
<pre>protected&nbsp;boolean doForwardIP</pre>
</li>
</ul>
<a name="doSendUrlFragment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSendUrlFragment</h4>
<pre>protected&nbsp;boolean doSendUrlFragment</pre>
</li>
</ul>
<a name="hopByHopHeaders">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hopByHopHeaders</h4>
<pre>protected static final&nbsp;HeaderGroup hopByHopHeaders</pre>
<div class="block">These are the "hop-by-hop" headers that should not be copied.
 http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html
 We use an HttpClient HeaderGroup class instead of Set of String because this
 approach does case insensitive lookup faster.</div>
</li>
</ul>
<a name="asciiQueryChars">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>asciiQueryChars</h4>
<pre>protected static final&nbsp;java.util.BitSet asciiQueryChars</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ProxyServlet--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ProxyServlet</h4>
<pre>public&nbsp;ProxyServlet()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setIPForwarding-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIPForwarding</h4>
<pre>public&nbsp;void&nbsp;setIPForwarding(boolean&nbsp;ipForwarding)</pre>
</li>
</ul>
<a name="setProxyTo-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setProxyTo</h4>
<pre>public&nbsp;void&nbsp;setProxyTo(java.lang.String&nbsp;proxyTo)</pre>
</li>
</ul>
<a name="getServletInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServletInfo</h4>
<pre>public&nbsp;java.lang.String&nbsp;getServletInfo()</pre>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()
          throws ServletException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ServletException</code></dd>
</dl>
</li>
</ul>
<a name="createHttpClient-HttpParams-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHttpClient</h4>
<pre>protected&nbsp;HttpClient&nbsp;createHttpClient(HttpParams&nbsp;hcParams)</pre>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
</li>
</ul>
<a name="service-HttpServletRequest-HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>service</h4>
<pre>protected&nbsp;void&nbsp;service(HttpServletRequest&nbsp;servletRequest,
                       HttpServletResponse&nbsp;servletResponse)
                throws ServletException,
                       java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="doResponseRedirect-HttpServletRequest-HttpServletResponse-HttpResponse-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doResponseRedirect</h4>
<pre>protected&nbsp;boolean&nbsp;doResponseRedirect(HttpServletRequest&nbsp;servletRequest,
                                     HttpServletResponse&nbsp;servletResponse,
                                     HttpResponse&nbsp;proxyResponse,
                                     int&nbsp;statusCode,
                                     java.lang.String&nbsp;proxyTo)
                              throws ServletException,
                                     java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="close-java.io.Closeable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>protected&nbsp;void&nbsp;close(java.io.Closeable&nbsp;closeable)</pre>
</li>
</ul>
<a name="consumeQuietly-HttpEntity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>consumeQuietly</h4>
<pre>protected&nbsp;void&nbsp;consumeQuietly(HttpEntity&nbsp;httpEntity)</pre>
</li>
</ul>
<a name="copyRequestHeaders-HttpServletRequest-HttpRequest-HttpHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyRequestHeaders</h4>
<pre>protected&nbsp;void&nbsp;copyRequestHeaders(HttpServletRequest&nbsp;servletRequest,
                                  HttpRequest&nbsp;proxyRequest,
                                  HttpHost&nbsp;host)</pre>
<div class="block">Copy request headers from the servlet client to the proxy request.</div>
</li>
</ul>
<a name="copyResponseHeaders-HttpResponse-HttpServletRequest-HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyResponseHeaders</h4>
<pre>protected&nbsp;void&nbsp;copyResponseHeaders(HttpResponse&nbsp;proxyResponse,
                                   HttpServletRequest&nbsp;servletRequest,
                                   HttpServletResponse&nbsp;servletResponse)</pre>
</li>
</ul>
<a name="copyProxyCookie-HttpServletRequest-HttpServletResponse-Header-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyProxyCookie</h4>
<pre>protected&nbsp;void&nbsp;copyProxyCookie(HttpServletRequest&nbsp;servletRequest,
                               HttpServletResponse&nbsp;servletResponse,
                               Header&nbsp;header)</pre>
<div class="block">Copy cookie from the proxy to the servlet client.
 Replaces cookie path to local path and renames cookie to avoid collisions.</div>
</li>
</ul>
<a name="getRealCookie-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRealCookie</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getRealCookie(java.lang.String&nbsp;cookieValue)</pre>
<div class="block">Take any client cookies that were originally from the proxy and prepare them to send to the
 proxy.  This relies on cookie headers being set correctly according to RFC 6265 Sec 5.4.
 This also blocks any local cookies from being sent to the proxy.</div>
</li>
</ul>
<a name="getCookieNamePrefix--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCookieNamePrefix</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getCookieNamePrefix()</pre>
<div class="block">The string prefixing rewritten cookies.</div>
</li>
</ul>
<a name="copyResponseEntity-HttpResponse-HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyResponseEntity</h4>
<pre>protected&nbsp;void&nbsp;copyResponseEntity(HttpResponse&nbsp;proxyResponse,
                                  HttpServletResponse&nbsp;servletResponse)
                           throws java.io.IOException</pre>
<div class="block">Copy response body data (the entity) from the proxy to the servlet client.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="rewriteUrlFromRequest-HttpServletRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewriteUrlFromRequest</h4>
<pre>protected&nbsp;java.lang.String&nbsp;rewriteUrlFromRequest(HttpServletRequest&nbsp;servletRequest,
                                                 java.lang.String&nbsp;location)</pre>
<div class="block">Reads the request URI from <code>servletRequest</code> and rewrites it, considering targetUri.
 It's used to make the new request.</div>
</li>
</ul>
<a name="rewriteQueryStringFromRequest-HttpServletRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewriteQueryStringFromRequest</h4>
<pre>protected&nbsp;java.lang.String&nbsp;rewriteQueryStringFromRequest(HttpServletRequest&nbsp;servletRequest,
                                                         java.lang.String&nbsp;queryString)</pre>
</li>
</ul>
<a name="rewriteUrlFromResponse-HttpServletRequest-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rewriteUrlFromResponse</h4>
<pre>protected&nbsp;java.lang.String&nbsp;rewriteUrlFromResponse(HttpServletRequest&nbsp;servletRequest,
                                                  java.lang.String&nbsp;theUrl,
                                                  java.lang.String&nbsp;location)</pre>
<div class="block">For a redirect response from the target server, this translates <code>theUrl</code> to redirect to
 and translates it to one the original client can use.</div>
</li>
</ul>
<a name="encodeUriQuery-java.lang.CharSequence-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>encodeUriQuery</h4>
<pre>protected static&nbsp;java.lang.CharSequence&nbsp;encodeUriQuery(java.lang.CharSequence&nbsp;in)</pre>
<div class="block">Encodes characters in the query or fragment part of the URI.

 <p>Unfortunately, an incoming URI sometimes has characters disallowed by the spec.  HttpClient
 insists that the outgoing proxied request has a valid URI because it uses Java's <code>URI</code>.
 To be more forgiving, we must escape the problematic characters.  See the URI class for the
 spec.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>in</code> - The <code>CharSequence</code> to encode.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/karaf/http/core/internal/ProxyServiceImpl.html" title="class in org.apache.karaf.http.core.internal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/karaf/http/core/internal/ServletEventHandler.html" title="class in org.apache.karaf.http.core.internal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/karaf/http/core/internal/ProxyServlet.html" target="_top">Frames</a></li>
<li><a href="ProxyServlet.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
